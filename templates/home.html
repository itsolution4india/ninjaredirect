<!DOCTYPE html>
<html lang="en">
  {% load static %}
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Permissions-Policy" content="fullscreen=(self)" />
  <title>Blog Detail | FinanceHub</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden; /* ‚úÖ Hides horizontal scrollbar */
      width: 100%;
    }

    .no-scroll {
      overflow: hidden;
      height: 100%;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: 800;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-decoration: none;
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .container {
      max-width: 1100px;
      margin: 60px auto;
      background: #fff;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      animation: fadeInUp 0.8s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .blog-image-wrapper {
      position: relative;
      width: 100%;
      height: 500px;
      overflow: hidden;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .blog-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.6s ease;
      opacity: 0.95;
    }

    .blog-image-wrapper:hover img {
      transform: scale(1.08);
    }

    .image-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 150px;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
    }

    .content-section {
      padding: 50px 60px 60px;
      position: relative;
    }

    .blog-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 25px;
      animation: slideInLeft 0.8s ease 0.2s backwards;
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .icon-wrapper {
      font-size: 3.5rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 15px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
      animation: pulse 2s ease infinite;
    }

    @keyframes pulse {
      0%,
      100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .blog-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.2;
    }

    .blog-date {
      color: #888;
      font-size: 1rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .blog-date::before {
      content: "üìÖ";
      font-size: 1.2rem;
    }

    .blog-content {
      font-size: 1.15rem;
      margin: 35px 0;
      color: #555;
      line-height: 1.9;
      animation: slideInLeft 0.8s ease 0.4s backwards;
      background: linear-gradient(to right, #f8f9fa, transparent);
      padding: 30px;
      border-left: 5px solid #667eea;
      border-radius: 8px;
    }

    .button-group {
      display: flex;
      gap: 20px;
      align-items: center;
      margin-top: 40px;
      animation: slideInLeft 0.8s ease 0.6s backwards;
      flex-wrap: wrap;
    }

    .read-more {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 16px 32px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      text-decoration: none;
      border-radius: 50px;
      font-weight: 600;
      transition: all 0.4s ease;
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
      position: relative;
      overflow: hidden;
    }

    .read-more::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.2);
      transition: left 0.5s ease;
    }

    .read-more:hover::before {
      left: 100%;
    }

    .read-more:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(102, 126, 234, 0.5);
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      padding: 12px 24px;
      border: 2px solid #667eea;
      border-radius: 50px;
      transition: all 0.3s ease;
    }

    .back-link:hover {
      background: #667eea;
      color: #fff;
      transform: translateX(-5px);
    }

    .decorative-element {
      position: absolute;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      opacity: 0.05;
      z-index: -1;
    }

    .element-1 {
      top: -100px;
      right: -100px;
    }

    .element-2 {
      bottom: -100px;
      left: -100px;
    }

    /* Fullscreen Overlay Styles */
    .fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: white;
      font-size: 24px;
      text-align: center;
      z-index: 9999;
      cursor: pointer;
    }

    .fullscreen-overlay h2 {
      font-size: 36px;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .fullscreen-overlay p {
      font-size: 18px;
      margin-bottom: 30px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .click-instruction {
      background: rgba(3, 95, 6, 0.727);
      color: rgb(255, 251, 251);
      padding: 15px 30px;
      border-radius: 50px;
      border: 2px solid white;
      font-weight: bold;
      animation: pulse 2s infinite;
    }

    /* hide cursor when pointer lock is active */
    .hide-cursor,
    .hide-cursor * {
      cursor: none !important;
    }

    /* fallback top blocker (bigger than previous attempt) */
    .prevent-top-hover-fallback {
      position: fixed;
      top: 0;
      left: 0;
      height: 40px; /* tall fallback */
      width: 100%;
      background: transparent;
      z-index: 100000;
      pointer-events: all;
    }

    .popup-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }

    .popup-content {
      background-color: white;
      padding: 40px;
      border-radius: 15px;
      text-align: center;
      max-width: 500px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .popup-content h3 {
      color: #333;
      margin-bottom: 20px;
      font-size: 24px;
    }

    .popup-content p {
      color: #666;
      margin-bottom: 15px;
      line-height: 1.6;
    }

    .contact-info {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .contact-btn {
      display: inline-block;
      padding: 12px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 25px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .contact-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }

    @media (max-width: 768px) {
      .nav-container {
        flex-direction: column;
        gap: 20px;
        padding: 20px;
      }

      .nav-links {
        gap: 20px;
      }

      .container {
        margin: 30px 20px;
        border-radius: 16px;
      }

      .blog-image-wrapper {
        height: 300px;
      }

      .content-section {
        padding: 30px 25px;
      }

      .blog-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .blog-title {
        font-size: 2rem;
      }

      .blog-content {
        font-size: 1rem;
        padding: 20px;
      }

      .button-group {
        flex-direction: column;
        align-items: stretch;
      }

      .read-more,
      .back-link {
        justify-content: center;
        text-align: center;
      }

      .fullscreen-overlay h2 {
        font-size: 28px;
      }

      .fullscreen-overlay p {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- Fullscreen Overlay - covers entire page -->
  <div class="fullscreen-overlay" id="fullscreenOverlay">
    <div class="click-instruction">Click Here to Read Full Blog</div>
  </div>

  <!-- Popup Overlay -->
  <div class="popup-overlay" id="popupOverlay">
    <div class="popup-content">
      <h3>Fix Hanging Computers Now!</h3>
      <p>
        Is your computer slow or freezing? Don't worry! Our expert tech support is here to help you instantly.
      </p>
      <div class="contact-info">
        <p>üìû Call Now: <strong>+91-1234567890</strong></p>
        <p>üìß Email: <strong>support@financehubhere.online</strong></p>
        <p>üåê Visit: <strong>www.financehubhere.online</strong></p>
      </div>
      <a href="tel:+919711347474" class="contact-btn">Get Instant Help</a>
    </div>
  </div>

  <!-- Main Content -->
  <nav>
    <div class="nav-container">
      <a href="/" class="logo">FinanceHub</a>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#blogs" class="active">Blogs</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <div class="decorative-element element-1"></div>
    <div class="decorative-element element-2"></div>

    <div class="blog-image-wrapper">
      <img src="{% static 'images/8.png' %}" alt="Investment Strategy" />
      <div class="image-overlay"></div>
    </div>

    <div class="content-section">
      <div class="blog-header">
        <div class="icon-wrapper">üí∞</div>
        <div>
          <div class="blog-title">Smart Investment Strategies for 2025</div>
          <div class="blog-date">October 30, 2025</div>
        </div>
      </div>

      <div class="blog-content">
        Estate planning is the process of organizing your affairs so that your wealth, property, and personal decisions are clearly
        defined and legally binding. It involves creating documents like wills, trusts, and power of attorney, ensuring that your
        estate doesn't get caught up in lengthy legal battles or excessive taxes.
      </div>

      <div class="button-group">
        <a href="#read-more" class="read-more">
          Read Full Article
          <span>‚Üí</span>
        </a>
        <a href="#blogs" class="back-link">
          <span>‚Üê</span>
          Back to Blogs
        </a>
      </div>
    </div>
  </div>

  <script>
    /**********************************************************************
     * Improved fullscreen + pointer-lock implementation
     * - Requests fullscreen on the document element (more consistent)
     * - Requests pointer lock (captures mouse so system cursor doesn't hit top)
     * - Provides a fallback top blocker if pointer lock unsupported
     * - Cleans up on exit
     *
     * Note: Browsers intentionally allow the user to escape (Esc) and may show
     * an informational overlay. This reduces accidental "mouse hits top" issues.
     **********************************************************************/

    const fullscreenOverlay = document.getElementById("fullscreenOverlay");
    const popupOverlay = document.getElementById("popupOverlay");

    function addFallbackTopBlocker() {
      if (!document.querySelector(".prevent-top-hover-fallback")) {
        const fb = document.createElement("div");
        fb.className = "prevent-top-hover-fallback";
        document.body.appendChild(fb);
      }
    }

    function removeFallbackTopBlocker() {
      const fb = document.querySelector(".prevent-top-hover-fallback");
      if (fb) fb.remove();
    }

    function enterFullscreenMode() {
      // hide the overlay
      fullscreenOverlay.style.display = "none";

      // Show popup visually (we won't request fullscreen on the popup element itself)
      popupOverlay.style.display = "flex";

      // Request fullscreen on root element (document.documentElement)
      const el = document.documentElement;
      const requestFs =
        el.requestFullscreen ||
        el.webkitRequestFullscreen ||
        el.mozRequestFullScreen ||
        el.msRequestFullscreen;

      if (requestFs) {
        try {
          // Some browsers require the call to be on a user gesture ‚Äî our click qualifies.
          requestFs.call(el).catch((err) => {
            console.warn("Fullscreen request rejected:", err);
            // Show fallback blocker if fullscreen failed
            addFallbackTopBlocker();
            // still hide cursor visually after a moment
            setTimeout(() => document.body.classList.add("hide-cursor"), 600);
          });
        } catch (err) {
          console.warn("Fullscreen request error:", err);
          addFallbackTopBlocker();
        }
      } else {
        // no fullscreen API available ‚Äî use fallback
        addFallbackTopBlocker();
      }

      // After fullscreen engages (or shortly after), request pointer lock
      function tryPointerLock() {
        const lockTarget = document.body; // choose element to lock pointer on
        if (lockTarget.requestPointerLock) {
          try {
            lockTarget.requestPointerLock();
            // hide cursor visual while pointer locked (actual cursor is captured)
            document.body.classList.add("hide-cursor");
          } catch (err) {
            console.warn("Pointer lock request error:", err);
            // fallback
            addFallbackTopBlocker();
            document.body.classList.add("hide-cursor");
          }
        } else {
          // pointer lock not supported ‚Äî add larger fallback blocker
          addFallbackTopBlocker();
          document.body.classList.add("hide-cursor");
        }
      }

      // If fullscreenchange fires, then try pointer lock there
      function onFsChange() {
        if (document.fullscreenElement) {
          tryPointerLock();
        } else {
          // not fullscreen (maybe user cancelled) ‚Äî still try pointer lock in some cases
          // but prefer to clean up
          document.body.classList.remove("hide-cursor");
          removeFallbackTopBlocker();
        }
      }

      document.addEventListener("fullscreenchange", onFsChange, { once: true });

      // As a fallback, attempt pointer lock after a short timeout if already fullscreen
      setTimeout(() => {
        if (document.fullscreenElement) {
          tryPointerLock();
        } else {
          // If still not fullscreen, at least add fallback blocker to reduce top triggers
          addFallbackTopBlocker();
        }
      }, 300);
    }

    // click and keydown to trigger (keeps earlier convenience)
    fullscreenOverlay.addEventListener("click", enterFullscreenMode);
    document.addEventListener("keydown", function (e) {
      // Only trigger enterFullscreenMode if the overlay is visible
      if (fullscreenOverlay.style.display !== "none") {
        // allow Enter or Space or any key to enter fullscreen (keeps old behavior)
        enterFullscreenMode();
      }
    });

    // Pointer lock event handlers
    document.addEventListener("pointerlockchange", function () {
      if (document.pointerLockElement) {
        // pointer is locked
        console.log("Pointer locked on", document.pointerLockElement);
        // optional: attach mousemove listeners to use movementX/movementY if needed
      } else {
        // pointer unlocked -> cleanup visual changes
        console.log("Pointer unlocked");
        document.body.classList.remove("hide-cursor");
        removeFallbackTopBlocker();
      }
    });

    document.addEventListener("pointerlockerror", function (e) {
      console.error("Pointer lock error:", e);
      // fallback: ensure top blocker present and hide cursor visually
      addFallbackTopBlocker();
      document.body.classList.add("hide-cursor");
    });

    // If fullscreen exits, release pointer lock (if any) and cleanup
    document.addEventListener("fullscreenchange", function () {
      if (!document.fullscreenElement) {
        // attempt to exit pointer lock gracefully
        if (document.exitPointerLock) {
          try {
            document.exitPointerLock();
          } catch (e) {
            // ignore
          }
        }
        document.body.classList.remove("hide-cursor");
        removeFallbackTopBlocker();
        // re-show the fullscreen overlay so user can re-enter if needed
        fullscreenOverlay.style.display = "";
      }
    });

    /*********************
     * Existing protections (kept, but note: browsers will still allow Esc)
     *********************/
    // Keyboard lock attempt (may not be supported widely)
    function lockKeyboard() {
      if ("keyboard" in navigator && "lock" in navigator.keyboard) {
        navigator.keyboard
          .lock()
          .then(() => {
            console.log("Keyboard locked successfully");
          })
          .catch((error) => {
            console.error("Error locking keyboard:", error);
          });
      } else {
        console.warn("Keyboard lock not supported in this browser.");
      }
    }

    // Keep disabling context menu
    document.addEventListener(
      "contextmenu",
      function (e) {
        e.preventDefault();
      },
      { passive: false }
    );

    // Try to block some keys (best-effort; browsers allow Escape to exit fullscreen)
    document.addEventListener(
      "keydown",
      function (e) {
        // Prevent dangerous combos locally (but cannot stop browser-level fullscreen escape)
        const forbidden =
          e.key === "Control" ||
          e.key === "Meta" ||
          e.key === "Alt" ||
          e.key === "Tab" ||
          e.key === "F11" ||
          e.key === "Escape";

        if (forbidden) {
          // note: preventing Escape won't always stop browser from exiting fullscreen for safety reasons
          e.preventDefault && e.preventDefault();
          e.stopPropagation && e.stopPropagation();
        }
      },
      { passive: false }
    );

    // small helper to clean up on page unload
    window.addEventListener("beforeunload", function () {
      try {
        document.exitPointerLock && document.exitPointerLock();
      } catch (err) {}
    });
  </script>
</body>
</html>
